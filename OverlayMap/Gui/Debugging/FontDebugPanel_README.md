# 字体调试面板使用说明

## 概述

字体调试面板是一个用于测试和调试字体显示效果的UI工具，通过热键 `Ctrl + T` 可以快速切换显示/隐藏。

## 功能特性

### 字体管理
- 自动加载系统常见字体（Arial、Times New Roman、Calibri、Consolas、Microsoft YaHei、SimHei、SimSun）
- 支持动态切换字体进行对比测试
- 实时预览字体效果

### 文本样式控制
- **字体大小**：8-72像素可调
- **字体颜色**：7种预设颜色循环切换
- **文本对齐**：12种对齐方式
- **字体样式**：普通、粗体、斜体、粗斜体
- **富文本**：支持/关闭富文本标记
- **自动换行**：支持/关闭自动换行
- **行间距**：-50到100像素可调
- **字符间距**：-50到100像素可调

### 测试文本
默认测试文本包含：
- 中文字符：字体测试文本
- 英文字符：Font Test Text
- 数字：1234567890
- 特殊符号：!@#$%^&*()

## 操作说明

### 基本操作
- **Ctrl + T**：切换字体调试面板显示/隐藏
- **ESC**：关闭面板（如果支持）

### 字体切换
- **数字键 1-9**：切换到对应的字体（按加载顺序）
  - 1：第一个加载的字体
  - 2：第二个加载的字体
  - ...以此类推

### 参数调整

#### 字体大小调整
- **Ctrl + ↑**：增大字体（+2像素）
- **Ctrl + ↓**：减小字体（-2像素）

#### 字符间距调整
- **Ctrl + ←**：减小字符间距（-5像素）
- **Ctrl + →**：增大字符间距（+5像素）

#### 行间距调整
- **↑**：增大行间距（+5像素）
- **↓**：减小行间距（-5像素）

#### 颜色切换
- **←**：上一个颜色
- **→**：下一个颜色

#### 对齐方式切换
- **Tab**：循环切换对齐方式

#### 字体样式切换
- **空格**：循环切换字体样式

#### 其他选项
- **R**：切换富文本支持
- **W**：切换自动换行

## 界面说明

### 主显示区域
- 占据面板的70%空间
- 显示当前设置的测试文本
- 实时反映所有样式设置

### 信息显示区域
- 位于面板底部
- 显示当前所有设置参数
- 包含操作提示信息

## 技术实现

### 架构设计
- **SimpleFontDebugPanel**：主要的调试面板类
- **FontManager**：字体管理服务
- **FontData**：字体数据封装

### 核心特性
- 使用TextMeshProUGUI组件进行文本渲染
- 支持IL2CPP编译环境
- 响应式UI设计，适配不同屏幕尺寸
- 键盘驱动的交互方式，无需鼠标操作

### 兼容性
- 支持Unity TextMeshPro
- 兼容BepInEx插件框架
- 支持Kingdom Two Crowns游戏环境

## 使用场景

1. **字体测试**：测试不同字体在游戏中的显示效果
2. **样式调试**：调整文本样式参数，找到最佳显示效果
3. **多语言支持**：测试中英文混合文本的显示效果
4. **UI设计**：为游戏UI选择合适的字体和样式

## 注意事项

1. 字体加载可能失败，面板会显示"无字体"状态
2. 某些字体可能不支持所有字符，会显示为默认字体
3. 面板仅在游戏运行时可用
4. 建议在游戏暂停状态下使用，避免影响游戏操作

## 故障排除

### 面板无法显示
- 检查是否按下了正确的热键组合（Ctrl + T）
- 确认游戏处于运行状态
- 检查控制台是否有错误信息

### 字体加载失败
- 检查系统是否安装了相应字体
- 查看日志文件中的字体加载错误信息
- 尝试使用系统默认字体

### 参数调整无效果
- 确认面板处于激活状态
- 检查参数是否在有效范围内
- 尝试重新打开面板

## 开发信息

- **文件位置**：`OverlayMap/Gui/SimpleFontDebugPanel.cs`
- **依赖项**：FontManager、FontData、TextMeshPro
- **热键注册**：OverlayMapHolder.Update()
- **初始化**：OverlayMapHolder.CreateFontDebugPanel()
- **IL2CPP支持**：使用`[RegisterTypeInIl2Cpp]`属性

## 技术说明

### 架构设计
- **SimpleFontDebugPanel**：主要的调试面板类，使用键盘驱动的交互方式
- **FontManager**：字体管理服务，负责加载和创建字体资源
- **FontData**：字体数据封装，包含字体资源和字符信息

### 实现特点
- 使用TextMeshProUGUI进行文本渲染
- 支持IL2CPP编译环境
- 键盘驱动的交互方式，避免复杂的事件监听器
- 响应式UI设计，适配不同屏幕尺寸
- 实时参数调整和预览

### 兼容性
- 支持Unity TextMeshPro
- 兼容BepInEx插件框架
- 支持Kingdom Two Crowns游戏环境
- 支持IL2CPP编译模式



